const foodData = [
	{
		title: `17th Station Pizza - North Karachi`,
		img: `1.png`,
		price: 10,
		rating: 3.4,
		timing: 20 + 'mn',
		shopName: ' gloria jeans',
		delivery: 'free',
		id: 1,
		about: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, explicabo, harum ipsam quas et, molestias tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident ne ipsam quas et, molestias doloribus eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'usman khan',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'junaid akram',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'umer farooq',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `DESI KHANA ONLINE`,
		img: `2.png`,
		price: 15,
		rating: 3.1,
		timing: 20 + 'mn',
		shopName: ' gloria jeans',
		delivery: 'free',
		id: 2,
		about: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, explicabo, harum ipsam quas et, molestias tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident ne ipsam quas et, molestias doloribus eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'usman khan',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'junaid akram',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'umer farooq',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Saniya's kitchen`,
		img: `3.png`,
		price: 5,
		rating: 3.8,
		timing: 20 + 'mn',
		shopName: ' gloria jeans',
		delivery: 'free',
		id: 3,
		about: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, explicabo, harum ipsam quas et, molestias tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident ne ipsam quas et, molestias doloribus eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'usman khan',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'junaid akram',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'umer farooq',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Special Chanay Walay Gol Gappay`,
		img: `4.png`,
		price: 12,
		rating: 4.4,
		timing: 20 + 'mn',
		shopName: ' gloria jeans',
		delivery: 'free',
		id: 4,
		about: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, explicabo, harum ipsam quas et, molestias tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident ne ipsam quas et, molestias doloribus eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'usman khan',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'junaid akram',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'umer farooq',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Lahori Finger Fish`,
		img: `5.png`,
		price: 20,
		rating: 2.7,
		timing: 50 + 'mn',
		shopName: 'gloria jeans',
		delivery: 'free',
		id: 5,
		about: 'Lorem us eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Chicken Boneless Handi`,
		img: `6.png`,
		price: 10,
		rating: 4.7,
		timing: 50 + 'mn',
		shopName: 'gloria jeans',
		delivery: 'free',
		id: 6,
		about: 'Lorem us eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Chicken Tikka`,
		img: `7.png`,
		price: 5,
		rating: 3.9,
		timing: 20 + 'mn',
		shopName: 'gloria jeans',
		delivery: 'free',
		id: 7,
		about: 'Lorem us eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
	{
		title: `Tawa Chicken Qeema`,
		img: `8.png`,
		price: 8,
		rating: 4.2,
		timing: 30 + 'mn',
		shopName: 'gloria jeans',
		delivery: 'free',
		id: 8,
		about: 'Lorem us eaque suscipit! Sequi fugiat recusandae facilis quos tempore iste amet doloribus eaque suscipit! Sequi fugiat recusandae facilis quos repellat provident nemo aperiam?',
		reviews: [
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
			{
				name: 'safdar azeem',
				img: 'user (1).jpg',
				rating: 4.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, recusandae atque pariatur est, beatae accusamus consequatur    `,
			},
			{
				name: 'faiq khan',
				img: 'user (2).jpg',
				rating: 3.5,
				comment: `Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, ora    `,
			},
			{
				name: 'jhon ali',
				img: 'user (3).jpg',
				rating: 2.1,
				comment: `Lorem ipsum dolor sit . Delectus, recusandae atque pariatur est, beatae accusamus consequatur possimus omnis deserunt, maxime tempora    `,
			},
		],
	},
]

///////////////////////////////////////////////
// dom elements
const gellaryContainer = document.querySelector('.gellary')
const modalImg = document.querySelector('.modal-img')
const modaltitle = document.querySelector('.modal-title')
const modalPrice = document.querySelector('.modal-price')
const modalrating = document.querySelector('.modal-rating')
const modaltiming = document.querySelector('.modal-timing')
const modaldelivery = document.querySelector('.modal-delivery')
const modalabout = document.querySelector('.modal-about')
const modalcomments = document.querySelector('.modal-comments')
const loadMoreCommentsBtn = document.querySelector('.loadMoreCommentsBtn')
const addToBookarBtn = document.querySelector('.addToBookarBtn')
var myModal = new bootstrap.Modal(document.getElementById('itemModal'), {})
const ordersContainer = document.querySelector('.orders')
const openOrdersbtn = document.querySelector('.openOrdersbtn')
const domtotalPrice = document.querySelector('.totalPrice')
const foodmenuoptions = document.querySelector('.food-menu-options')
const searchinfo = document.querySelector('.search-info')
const searchForm = document.querySelector('.form')
const searchInput = document.querySelector('.searchInput')
const cetagroize = document.querySelectorAll('.cetagroize')
const filterFoodItems = document.querySelector('.filterFoodItems')

/////////// global veriables  ///////////////
let currentOpenItem
let prevIndex = 0
let howmanyitem = 3
let orderArray = []
let searchdataArray
let value = 1

////// global fns  //////////////////////////////////////////

//get unique objects
function getuniqeObj(n) {
	let i = {}
	return n.filter(function (n) {
		var t = JSON.stringify(n)
		if (!(t in i) && (i[t] = n)) return t
	})
}

// show hide containers
function hideContent(...elements) {
	elements.forEach((element) => {
		element.classList.add('d-none')
	})
}

function showContent(...elements) {
	elements.forEach((e) => {
		e.classList.remove('d-none')
	})
}

function getorderItem() {
	let getitem = JSON.parse(localStorage.getItem('ordersItems'))
	getitem && orderArray.push(...getitem)
}

getorderItem()

function setOrderItem() {
	localStorage.setItem('ordersItems', JSON.stringify(getuniqeObj(orderArray)))
}

// ///////////////////////////////////////////
// render data

function renderFooditems(array) {
	let markup = ` <div class="center " style="margin-top:100px">
		<div class="spinner-border" role="status">
			<span class="visually-hidden">Loading...</span>
		</div>
	</div>`

	gellaryContainer.classList.remove('gellary')
	gellaryContainer.innerHTML = markup

	let html = array
		.map((element) => {
			return `
        <div class="card  border-0">
        <img src="./imgs/food/${element.img}" class="card-img-top" alt="..."  id="${element.id}">
        <div class="card-body ">
            <div class="between-center">
                <h5 class="card-title fs-18">${element.title}</h5>
                <h4 class="fw-bolder">$${element.price}</h4>
            </div>
            <div>
                <ul class="nav">
                    <li class="nav-item nav-link text-secondary p-0 center "><i
                            class="fas fa-star fs-17 me-2"></i>
                        <p class="fs-15">${element.rating}</p>
                    </li>
                    <li class="nav-item fs-15 nav-link text-secondary center">${element.shopName}</li>
                </ul>
            </div>
        </div>
    </div>
        `
		})
		.join('')

	setTimeout(() => {
		gellaryContainer.classList.add('gellary')
		gellaryContainer.innerHTML = html
	}, 250)
}

renderFooditems(foodData)

// open modal
gellaryContainer.addEventListener('click', (e) => {
	let target = e.target.closest('img').id
	if (target) {
		myModal.show()
		let [findItem] = foodData.filter((t) => {
			if (t.id == target) return t
		})

		addToBookarBtn.classList.remove('bg-dark')
		addToBookarBtn.classList.add('bg-secondary')
		addToBookarBtn.id = 'saved'

		orderArray.forEach((element) => {
			element.id == findItem.id &&
				((addToBookarBtn.id = 'remove'),
				addToBookarBtn.classList.add('bg-dark'),
				addToBookarBtn.classList.remove('bg-secondary'))
		})

		loadData(findItem)
		loadComments(findItem.reviews, howmanyitem)
	}
})

// load food item data in modal
function loadData(array) {
	currentOpenItem = array
	modalImg.src = `./imgs/food/${array.img}`
	modalImg.id = array.id
	modaltitle.innerHTML = array.title
	modalPrice.innerHTML = `$${array.price}`
	modalrating.innerHTML = array.rating
	modaldelivery.innerHTML = array.delivery
	modalabout.innerHTML = array.about
	modaltiming.innerHTML = array.timing
	modalcomments.innerHTML = ''
	howmanyitem = 4
	prevIndex = 0
}

// load comments
function loadComments(array, number) {
	let commentarray = []
	if (number > array.length) {
		number = array.length
	}
	for (let i = prevIndex; i < number; i++) {
		commentarray.push(`
		<div class="comment d-flex my-9">
		<div>
			<img src="./imgs/${array[i].img}" class="w-50px  me-4 h-50px rounded-circle"
				alt="">
		</div>
		<div class="w-100">
			<div class="between-center align-items-center w-100 mb-2">
				<h4>${array[i].name}</h4>
				<div class="side-center">
					<i class="fas fa-star fs-17 me-3"></i>
					<p class="fs-15">${array[i].rating}  </p>
				</div>
			</div>
			<div class="w-100"> 
			<p >
			${array[i].comment}

			</p>
			</div>
		</div>
	</div>
		`)
	}

	modalcomments.innerHTML += commentarray.join('')
}

// load more comments on click
loadMoreCommentsBtn.addEventListener('click', (e) => {
	prevIndex = howmanyitem
	howmanyitem += 4
	loadComments(currentOpenItem.reviews, howmanyitem)
})

///  add to bookmark item
addToBookarBtn.addEventListener('click', () => {
	if (addToBookarBtn.id == 'saved') {
		addToBookarBtn.classList.add('bg-dark')
		addToBookarBtn.classList.remove('bg-secondary')
		currentOpenItem.totalOrders = 1
		orderArray.push(currentOpenItem)
		setOrderItem()
		addToBookarBtn
		addToBookarBtn.id = 'remove'
	} else {
		removeOrder(orderArray, currentOpenItem.id)
		addToBookarBtn.classList.remove('bg-dark')
		addToBookarBtn.classList.add('bg-secondary')
		addToBookarBtn.id = 'saved'
	}
})

// remove order from bookmark
function removeOrder(array, checkElement) {
	let index = array.findIndex((element) => {
		if (element.id == checkElement) {
			return element
		}
	})

	orderArray.splice(index, 1)

	setOrderItem()
	renderTotalpirce()
	return index
}

//load orders in bookmarks gellary
openOrdersbtn.addEventListener('click', () => {
	let html = orderArray
		.map((element) => {
			return `
		<li class="list-group-item my-5 border-0 d-flex rounded-2">
		<div>
			<img src="./imgs/food/${element.img}"  class="w-80px h-80px rounded-circle me-4" alt="">
		</div>
		<div class="w-100">
			<div class="between-center">
				<h5 class="fs-18">${element.title}</h5>
				<h4 class="fw-bold">$${element.price}</h4>
			</div>
			<div class="side-center mt-1">
				<div>
					<div class="btn-group" role="group" aria-label="Basic example">
						<button type="button" id="${element.id}" class="btn decreaseOrder shadow p-1px px-9px">-</button>
						<p class="p-1px px-9px">${element.totalOrders}</p>
						<button id="${element.id}" type="button" class="btn increaseOrder shadow p-1px px-9px">+</button>
					</div>
				</div>
				<button class="btn removeOrder ms-3" id="${element.id}">
					<i class="fas fa-trash fs-17"></i>
				</button>
			</div>
		</div>
	</li>
		`
		})
		.join('')

	ordersContainer.innerHTML = html
	renderTotalpirce()
})

// renderTotalpirce
function renderTotalpirce() {
	let totalprice = 0
	for (let r = 0; r < orderArray.length; r++)
		totalprice += orderArray[r].price * orderArray[r].totalOrders
	domtotalPrice.innerHTML = '$' + totalprice
}

// increase and decrease orders items fn
function increaseDecreaseItems(option, item, domElement) {
	orderArray.forEach((element) => {
		if (element.id == item) {
			if (option == 'increase') {
				element.totalOrders++
				domElement.innerHTML = element.totalOrders
			}
			if (option == 'decrease') {
				element.totalOrders--
				element.totalOrders < 1 && (element.totalOrders = 1)
				domElement.innerHTML = element.totalOrders
			}
		}
	})
}

// menuplataOrders;
let increaseOrderBtn
ordersContainer.addEventListener('click', (e) => {
	increaseOrderBtn = e.target.closest('.increaseOrder')
	let decreaseOrderBtn = e.target.closest('.decreaseOrder')
	let removeOrderBtn = e.target.closest('.removeOrder')

	if (removeOrderBtn) {
		removeOrderBtn.addEventListener('click', (e) => {
			let item = removeOrderBtn.id
			let index = removeOrder(orderArray, item)
			ordersContainer.children[index].remove()
		})
	}

	if (increaseOrderBtn) {
		let item = increaseOrderBtn.id
		e.stopPropagation()
		increaseDecreaseItems(
			'increase',
			item,
			increaseOrderBtn.previousElementSibling
		)
		setOrderItem()
		renderTotalpirce()
	}
	if (decreaseOrderBtn) {
		let item = decreaseOrderBtn.id
		e.stopPropagation()
		increaseDecreaseItems(
			'decrease',
			item,
			decreaseOrderBtn.nextElementSibling
		)
		setOrderItem()
		renderTotalpirce()
	}
})

// filter menues
cetagroize.forEach((element) => {
	element.addEventListener('click', (e) => {
		cetagroize.forEach((element) => {
			element.classList.remove('bg-dark')
		})
		element.classList.add('bg-dark')
		let category = e.currentTarget.dataset.cetagroize
		let filterdata = foodData.filter((element) => {
			if (element.title.includes(category)) {
				return element
			}
		})

		renderFooditems(filterdata)

		if (category == 'all') {
			renderFooditems(foodData)
		}
	})
})

//search items
searchForm.addEventListener('keyup', (e) => {
	e.preventDefault()
	let value = searchInput.value

	hideContent(foodmenuoptions)
	showContent(searchinfo)
	searchdataArray = foodData.filter((element) => {
		if (element.title.toLowerCase().includes(value.toLowerCase())) {
			return element
		}
	})

	renderFooditems(searchdataArray)
	if (!value) {
		hideContent(searchinfo)
		showContent(foodmenuoptions)
		cetagroize.forEach((element) => {
			element.classList.remove('bg-dark')
		})
		cetagroize[0].classList.add('bg-dark')
	}
})

// sort array;
filterFoodItems.addEventListener('change', (e) => {
	let menu = filterFoodItems.value

	let x = searchdataArray.sort((a, b) => {
		if (menu == 'topRated') {
			if (a.rating > b.rating) {
				return -1
			}
		}

		if (menu == 'topPrice') {
			if (a.price > b.price) {
				return -1
			}
		}

		if (menu == 'lowestPrice') {
			if (a.price < b.price) {
				return -1
			}
		}
	})

	renderFooditems(x)
})

// scrolling card
let scrolling = document.querySelectorAll('.scrollbar')
let isDown = false
let startX
let scrollleft

scrolling.forEach((element) => {
	element.addEventListener('mousedown', (e) => {
		isDown = true
		startX = e.pageX - element.offsetLeft
		scrollleft = element.scrollLeft
	})
	element.addEventListener('mouseleave', () => {
		isDown = false
	})

	element.addEventListener('mouseup', () => {
		isDown = false
	})

	element.addEventListener('mousemove', (e) => {
		if (!isDown) return
		e.preventDefault()
		const x = e.pageX - element.offsetLeft
		const walk = (x - startX) * 2
		element.scrollLeft = scrollleft - walk
	})
})
